        static void Main()
        {
            List<string> participants = Console.ReadLine().Split(", ").ToList();
            var personsRacers = new Dictionary<string, int>();

            string line = Console.ReadLine();
            while (line != "end of race")
            {
                string name = FindName(line);
                int currentRaceKm = FindSumOfDigits(line);

                if (participants.Contains(name))
                {
                    if (personsRacers.ContainsKey(name))
                    {
                        personsRacers[name] += currentRaceKm;
                    }
                    else
                    {
                        personsRacers.Add(name, currentRaceKm);
                    }
                }

                line = Console.ReadLine();
            }

            var orderedRacers = personsRacers.OrderByDescending(x => x.Value);

            int counter = 1;

            foreach (var item in orderedRacers)
            {
                if (counter == 1)
                {
                    Console.WriteLine($"1st place: {item.Key}");
                }
                else if (counter == 2)
                {
                    Console.WriteLine($"2nd place: {item.Key}");
                }
                else if (counter == 3)
                {
                    Console.WriteLine($"3rd place: {item.Key}");
                }
                else
                {
                    return;
                }

                counter++;
            }
        }

        public static int FindSumOfDigits(string line)
        {
            int currentRaceKm = 0;

            var patternDigits = @"[0-9]";

            var matchDigits = Regex.Matches(line, patternDigits);

            foreach (Match item in matchDigits)
            {
                string digitToStr = item.ToString();
                char digit = char.Parse(digitToStr);

                currentRaceKm += digit - '0';
            }

            return currentRaceKm;
        }

        public static string FindName(string line)
        {
            string name = string.Empty;

            var patternName = @"[A-Za-z]+";

            var match = Regex.Matches(line, patternName);

            foreach (Match item in match)
            {
                name += item;
            }

            return name;
        }
